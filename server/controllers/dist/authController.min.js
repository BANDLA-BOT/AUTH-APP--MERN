"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.signup=void 0;var _userModel=_interopRequireDefault(require("../models/user.model.js")),_errorHandler=require("../utils/errorHandler.js"),_bcryptjs=_interopRequireDefault(require("bcryptjs"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var signup=function(r,t,s){var n,a,u,o,i,l,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.body,a=n.username,u=n.email,o=n.password,r.body){e.next=3;break}return e.abrupt("return",t.status(300).json({message:"Fields have no Data init"}));case 3:if(void 0===o)return e.abrupt("return",t.status(300).json({message:"Fields have no Data init"}));e.next=5;break;case 5:return e.next=7,regeneratorRuntime.awrap(_bcryptjs.default.genSalt(10));case 7:return i=e.sent,l=_bcryptjs.default.hashSync(o,i),d=new _userModel.default({username:a,email:u,password:l}),e.prev=10,e.next=13,regeneratorRuntime.awrap(d.save());case 13:t.status(201).json({message:"registered successfully"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),s((0,_errorHandler.errorHandler)(500,"Something went wrong"));case 19:case"end":return e.stop()}},null,null,[[10,16]])};exports.signup=signup;
//# sourceMappingURL=authController.min.js.map
